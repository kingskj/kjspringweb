<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/layout :: head('500 오류')}"></head>
<body>
<nav th:replace="~{fragments/layout :: navbar}"></nav>

<div class="container mt-4">
    <div class="d-flex justify-content-end mb-2">
        <a href="/" class="btn btn-secondary btn-sm">
            <i class="bi bi-house"></i> 홈으로
        </a>
    </div>

    <div class="card border-danger shadow-sm">
        <div class="card-header bg-danger text-white">
            <h5 class="mb-0"><i class="bi bi-bug-fill"></i> 500 Internal Server Error</h5>
        </div>
        <div class="card-body">
            <p class="mb-2"><strong>요청 경로:</strong> <code th:text="${path}">/</code></p>
            <p class="mb-2"><strong>메시지:</strong> <span th:text="${errorMessage}">-</span></p>
            <p class="mb-2"><strong>발생 시각:</strong> <span th:text="${timestamp != null ? #dates.format(timestamp, 'yyyy-MM-dd HH:mm:ss') : '-'}">-</span></p>
            <hr>
            <h6 class="fw-bold">Error Log</h6>
            <pre class="bg-dark text-light p-3 rounded small mb-0"
                 style="white-space: pre-wrap;"
                 th:text="${errorLog}"></pre>
        </div>
    </div>

    <div class="d-flex justify-content-end mt-2">
        <a href="/" class="btn btn-secondary btn-sm">
            <i class="bi bi-house"></i> 홈으로
        </a>
    </div>
</div>

<footer th:replace="~{fragments/layout :: footer}"></footer>
<th:block th:replace="~{fragments/layout :: scripts}"></th:block>
<script th:inline="javascript">
    alert('오류: ' + /*[[${errorMessage}]]*/ 'Internal Server Error');
</script>
</body>
</html>
